CREATE OR REPLACE TRIGGER tmp_customer_insert_trig
    AFTER INSERT 
       OR UPDATE
       ON customer
      FOR EACH ROW 

DECLARE
    v_user VARCHAR2(20) ;
    
BEGIN
    SELECT user
    INTO v_user
    FROM DUAL ;
    --
    IF INSERTING THEN
        INSERT INTO trigger_log (log_id, event_date, username, table_name, pre_value, post_value, commentary)
            VALUES (trigger_log_sq.NEXTVAL, SYSDATE, v_user, 'CUSTOMER', NULL, NULL, 'Inserting a new row') ;
    ELSIF UPDATING THEN
        INSERT INTO trigger_log (log_id, event_date, username, table_name, pre_value, post_value, commentary)
            VALUES (trigger_log_sq.NEXTVAL, SYSDATE, v_user, 'CUSTOMER', NULL, NULL, 'Updating a new row') ;
    END IF ;
    --
EXCEPTION 
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE(SQLERRM) ;
        
END ;
